<div>
    <h3>Edit Employee</h3>
</div>

<form [formGroup]="employeeDetails" (ngSubmit)=onSubmit(employeeDetails.value)>
    <div class="form-control">
        <label for="username">Name: </label>
        <div class="input-group mb-3">
            <input type="text" class="form-control" formControlName="name" id="name">
        </div>
        <div *ngIf="!employeeDetails.get('name')?.valid" class="alert alert-danger" role="alert">Name must be atleast 4-20 characters long</div>
        <label for="salary">Salary: </label>
        <div class="input-group mb-3">
            <input type="number" class="form-control" formControlName="salary" id="salary">
        </div>
        <div *ngIf="!employeeDetails.get('salary')?.valid" class="alert alert-danger" role="alert">Salary field should not be empty</div>
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" formControlName="permanent">
            <label class="form-check-label" for="flexSwitchCheckDefault">Is Permanent or not?</label>
        </div>
        <div class="input-group mb-3">
            <select formControlName="department" id="department">
                <!-- <option value="">{{ defaultDepartment }}</option> -->
                <option *ngFor="let department of employee.department;" [ngValue]="department">
                  {{ department.name }}
                </option>
              </select>
        </div>
        <div  formArrayName="skills">
            <h3>Skills</h3>
            <button (click)="addSkill()">Add New Skill</button><hr>
            <div *ngFor="let skill of skills.controls; let i = index">
                <label for="skill">Skill
                    <input type="text" [formControlName]="i">
                </label>
            </div>
        </div>
        
        <div >
            <button type="submit" [disabled]="!employeeDetails.valid">Save</button>
        </div>
    </div>
</form>    